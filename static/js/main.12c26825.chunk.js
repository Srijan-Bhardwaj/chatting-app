(this.webpackJsonpmessenger=this.webpackJsonpmessenger||[]).push([[0],{11:function(e,t,s){e.exports={container:"Messenger_container__gA902",card:"Messenger_card__3SCKJ",move:"Messenger_move__2Bk8o",logo:"Messenger_logo__1lqdr",icon:"Messenger_icon__H5jjp",messages:"Messenger_messages__1A6Tp",typer:"Messenger_typer__2uVDU",type:"Messenger_type__1YdDg",submit:"Messenger_submit__PgnE3"}},14:function(e,t,s){e.exports={container:"Messages_container__KReUA",fade:"Messages_fade__5g-Gr",wrapper:"Messages_wrapper__qlgLc",info:"Messages_info__4NuBQ",details:"Messages_details__1dItq"}},34:function(e,t,s){},47:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s(16),c=s.n(a),r=(s(34),s(13)),i=s(11),o=s.n(i),l=s(26),d=s.n(l),u=s(28),m=s.n(u),p=s(14),j=s.n(p),g=s(5),b=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:j.a.container,style:{alignSelf:!0===e.sender?"flex-end":"flex-start"},children:[Object(g.jsxs)("div",{className:j.a.wrapper,style:{alignSelf:!0===e.sender?"flex-end":"flex-start",backgroundColor:!0===e.sender?"aqua":"lightgrey",borderTopLeftRadius:!0===e.sender?"5px":"0",borderBottomRightRadius:!0===e.sender?"0":"5px"},children:[Object(g.jsx)("div",{style:{textAlign:!0===e.sender?"right":"left",color:!0===e.sender?"blue":"red"},className:j.a.info,children:e.name}),e.text]}),Object(g.jsxs)("div",{className:j.a.details,style:{alignSelf:!0===e.sender?"flex-end":"flex-start"},children:[e.time.toLocaleDateString()," ",e.time.toLocaleTimeString()]})]})})},f=s(17),_=f.a.initializeApp({apiKey:"AIzaSyA20No1Szz3Gu2aLWUjv-AwqLALwHCl12Y",authDomain:"sandesh-chatting-app.firebaseapp.com",projectId:"sandesh-chatting-app",storageBucket:"sandesh-chatting-app.appspot.com",messagingSenderId:"128133152544",appId:"1:128133152544:web:01b451d3fdae452fc16145"}).firestore(),O=s(21),h=s.p+"static/media/insight-578.e7e8aabb.mp3",x=s.p+"static/media/hollow-582.f193bf16.mp3",y=function(){var e=Object(O.a)(h),t=Object(r.a)(e,1)[0],s=Object(O.a)(x),a=Object(r.a)(s,1)[0],c=Object(n.useRef)(null),i=Object(n.useState)("unknown"),l=Object(r.a)(i,2),u=l[0],p=l[1],j=Object(n.useState)(""),y=Object(r.a)(j,2),v=y[0],S=y[1],w=Object(n.useState)([]),M=Object(r.a)(w,2),N=M[0],A=M[1],k=Object(n.useState)({username:null}),D=Object(r.a)(k,2),I=D[0],L=D[1];Object(n.useEffect)((function(){var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),N.length>0&&N[N.length-1].username!=u&&t()}),[N]),Object(n.useEffect)((function(){_.collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){A(e.docs.map((function(e){return e.data()})))})),_.collection("typer").doc("typer").onSnapshot((function(e){L(e.data())}))}),[]),Object(n.useEffect)((function(){null!=I.username&&""!==I.username||(_.collection("typer").doc("typer").set({username:u}),setTimeout((function(){_.collection("typer").doc("typer").set({username:null})}),1e3))}),[v]),Object(n.useEffect)((function(){var e=prompt("enter name");p(null==e||""==e?"unknown":e)}),[]);return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:o.a.container,children:Object(g.jsxs)("div",{className:o.a.card,children:[Object(g.jsxs)("div",{className:o.a.logo,children:[Object(g.jsx)(d.a,{className:o.a.icon}),Object(g.jsx)("div",{className:o.a.typer,children:null===I.username||I.username===u||""===I.username?"":"".concat(I.username," is typing...")})]}),Object(g.jsx)("div",{className:o.a.messages,children:N.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b,{text:e.message,sender:e.username===u,name:e.username===u?"":e.username,time:e.timestamp?new Date(1e3*e.timestamp.seconds):new Date}),Object(g.jsx)("div",{ref:c})]})}))}),Object(g.jsx)("div",{className:o.a.type,children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_.collection("messages").add({message:v,username:u,timestamp:f.a.firestore.FieldValue.serverTimestamp()}),a(),S("")},children:[Object(g.jsx)("input",{type:"text",placeholder:"Type your message...",onChange:function(e){S(e.target.value)},required:!0,value:v}),Object(g.jsx)("button",{type:"submit",className:o.a.submit,children:Object(g.jsx)(m.a,{})})]})})]})})})},v=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(y,{})})};c.a.render(Object(g.jsx)(v,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.12c26825.chunk.js.map