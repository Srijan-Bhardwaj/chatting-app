(this.webpackJsonpmessenger=this.webpackJsonpmessenger||[]).push([[0],{25:function(e,t,a){e.exports={container:"Messenger_container__gA902",card:"Messenger_card__3SCKJ",expand:"Messenger_expand__1JKtX",logo:"Messenger_logo__1lqdr",icon:"Messenger_icon__H5jjp",messages:"Messenger_messages__1A6Tp",typer:"Messenger_typer__2uVDU",type:"Messenger_type__1YdDg",submit:"Messenger_submit__PgnE3"}},32:function(e,t,a){e.exports={container:"LandingPage_container__3VCR5",card:"LandingPage_card__-T9uK",createRoom:"LandingPage_createRoom__R8hWc"}},33:function(e,t,a){e.exports={container:"JoinRoom_container__1Ppbo",card:"JoinRoom_card__1yQ4K",heading:"JoinRoom_heading__3czZt",colorPicker:"JoinRoom_colorPicker__2BlpB",btn:"JoinRoom_btn__1V2km"}},34:function(e,t,a){e.exports={wrapper:"CreateRoom_wrapper__3pr8t",card:"CreateRoom_card__34RiV",heading:"CreateRoom_heading__e6caZ",password:"CreateRoom_password__1ICTI",btn:"CreateRoom_btn__33LWt"}},38:function(e,t,a){e.exports={container:"Messages_container__KReUA",fade:"Messages_fade__5g-Gr",wrapper:"Messages_wrapper__qlgLc",info:"Messages_info__4NuBQ",details:"Messages_details__1dItq"}},64:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(29),o=a.n(c),s=(a(64),a(14)),r=a(25),i=a.n(r),l=a(55),d=a.n(l),m=a(56),u=a.n(m),j=a(38),b=a.n(j),p=a(4),h=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:b.a.container,style:{alignSelf:!0===e.sender?"flex-end":"flex-start"},children:[Object(p.jsxs)("div",{className:b.a.wrapper,style:{alignSelf:!0===e.sender?"flex-end":"flex-start",backgroundColor:!0===e.sender?"lightseagreen":"lightslategrey",borderTopLeftRadius:!0===e.sender?"5px":"0",borderBottomRightRadius:!0===e.sender?"0":"5px"},children:[Object(p.jsx)("div",{style:{textAlign:!0===e.sender?"right":"left",color:!0===e.sender?"none":"#B22222"},className:b.a.info,children:e.name}),Object(p.jsx)("div",{style:{color:"whitesmoke"},children:e.text})]}),Object(p.jsxs)("div",{className:b.a.details,style:{alignSelf:!0===e.sender?"flex-end":"flex-start"},children:[e.time.toLocaleDateString()," ",e.time.toLocaleTimeString()]})]})})},f=a(43),O=f.a.initializeApp({apiKey:"AIzaSyA20No1Szz3Gu2aLWUjv-AwqLALwHCl12Y",authDomain:"sandesh-chatting-app.firebaseapp.com",projectId:"sandesh-chatting-app",storageBucket:"sandesh-chatting-app.appspot.com",messagingSenderId:"128133152544",appId:"1:128133152544:web:01b451d3fdae452fc16145"}).firestore(),g=a(46),x=a.p+"static/media/insight-578.e7e8aabb.mp3",_=a.p+"static/media/done-for-you-612.f1aedf04.mp3",v=a(11),y=function(){var e=Object(n.useState)(.3),t=Object(s.a)(e,2),a=t[0],c=(t[1],Object(g.a)(x,{volume:a})),o=Object(s.a)(c,1)[0],r=Object(g.a)(_,{volume:a}),l=Object(s.a)(r,1)[0],m=Object(n.useRef)(null),j=Object(n.useState)(""),b=Object(s.a)(j,2),y=b[0],N=b[1],S=Object(n.useState)(""),R=Object(s.a)(S,2),w=R[0],C=R[1],k=Object(n.useState)([]),M=Object(s.a)(k,2),E=M[0],J=M[1],P=Object(n.useState)({username:null}),D=Object(s.a)(P,2),L=D[0],T=D[1],q=Object(v.f)(),I=0;Object(n.useEffect)((function(){var e;I++,null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),E.length>0&&E[E.length-1].username!=y&&I>1&&o()}),[E]),Object(n.useEffect)((function(){document.documentElement.style.setProperty("--base-color","#".concat(q.pickcolor)),document.documentElement.style.setProperty("--base-transparent","#".concat(q.pickcolor,"99")),O.collection(q.roomName).orderBy("timestamp","asc").onSnapshot((function(e){J(e.docs.map((function(e){return e.data()})))})),O.collection("typer").doc(q.roomName).onSnapshot((function(e){T(e.data())}))}),[]),Object(n.useEffect)((function(){null!=L.username&&""!==L.username||(O.collection("typer").doc(q.roomName).set({username:y}),setTimeout((function(){O.collection("typer").doc(q.roomName).set({username:null})}),1e3))}),[w]),Object(n.useEffect)((function(){var e=q.userName;N(null==e||""==e?"unknown":e)}),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:i.a.container,children:Object(p.jsxs)("div",{className:i.a.card,children:[Object(p.jsxs)("div",{className:i.a.logo,children:[Object(p.jsx)(d.a,{className:i.a.icon}),Object(p.jsx)("div",{className:i.a.typer,children:null===L.username||L.username===y||""===L.username?"":"".concat(L.username," is typing...")})]}),Object(p.jsx)("div",{className:i.a.messages,children:E.map((function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(h,{text:e.message,sender:e.username===y,name:e.username===y?"":e.username,time:e.timestamp?new Date(1e3*e.timestamp.seconds):new Date}),Object(p.jsx)("div",{ref:m})]})}))}),Object(p.jsx)("div",{className:i.a.type,children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.collection(q.roomName).add({message:w,username:y,timestamp:f.a.firestore.FieldValue.serverTimestamp()}),l(),C("")},children:[Object(p.jsx)("textarea",{placeholder:"Type your message...",onChange:function(e){C(e.target.value)},required:!0,value:w}),Object(p.jsx)("button",{type:"submit",className:i.a.submit,children:Object(p.jsx)(u.a,{})})]})})]})})})},N=a(32),S=a.n(N),R=a(93),w=a(28),C=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:S.a.container,children:Object(p.jsxs)("div",{className:S.a.card,children:[Object(p.jsx)(w.b,{to:"/create-room",style:{textDecoration:"none"},children:Object(p.jsx)("div",{children:Object(p.jsx)(R.a,{variant:"contained",color:"primary",className:S.a.createRoom,children:"Create a Room"})})}),Object(p.jsx)("div",{className:S.a.separator,children:"OR"}),Object(p.jsx)(w.b,{to:"/join-room",style:{textDecoration:"none"},children:Object(p.jsx)("div",{children:Object(p.jsx)(R.a,{variant:"contained",color:"secondary",className:S.a.createRoom,children:"Join a Room"})})})]})})})},k=a(33),M=a.n(k),E=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(""),i=Object(s.a)(r,2),l=i[0],d=i[1],m=Object(n.useState)(""),u=Object(s.a)(m,2),j=u[0],b=u[1],h=Object(n.useState)([]),f=Object(s.a)(h,2),g=f[0],x=f[1],_=Object(n.useState)("#000080"),v=Object(s.a)(_,2),y=v[0],N=v[1],S=!1;Object(n.useEffect)((function(){O.collection("chatrooms").onSnapshot((function(e){x(e.docs.map((function(e){return e.data()})))}))}),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:M.a.container,children:Object(p.jsx)("div",{className:M.a.card,children:Object(p.jsxs)("form",{autoComplete:"off",onSubmit:function(t){t.preventDefault(),g.forEach((function(e){e.roomname===c&&e.roompassword===l&&(S=!0)})),!0===S?e.history.push("/messenger/".concat(c,"/").concat(j,"/").concat(y.substring(1))):setTimeout((function(){return alert("Invalid chat room name or password!")}),100),o(""),d("")},children:[Object(p.jsx)("div",{className:M.a.heading,children:"Join Room"}),Object(p.jsx)("input",{type:"text",placeholder:"enter chat room name",onChange:function(e){o(e.target.value)},required:!0,value:c}),Object(p.jsx)("input",{type:"password",placeholder:"enter room password",onChange:function(e){d(e.target.value)},required:!0,value:l}),Object(p.jsx)("input",{type:"text",placeholder:"enter user name",onChange:function(e){b(e.target.value)},required:!0,value:j}),Object(p.jsxs)("div",{className:M.a.colorPicker,children:[Object(p.jsxs)("span",{style:{color:"salmon",fontSize:"0.8em",fontWeight:"bold"},children:["Pick your fav color :"," "]}),Object(p.jsx)("input",{type:"color",onChange:function(e){N(e.target.value)}})]}),Object(p.jsx)(R.a,{className:M.a.btn,type:"submit",variant:"contained",color:"secondary",children:"Join"})]})})})})},J=a(34),P=a.n(J),D=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(s.a)(o,2),i=r[0],l=r[1],d=Object(n.useState)([]),m=Object(s.a)(d,2),u=m[0],j=m[1],b=!1;Object(n.useEffect)((function(){O.collection("chatrooms").onSnapshot((function(e){j(e.docs.map((function(e){return e.data()})))}))}),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:P.a.wrapper,children:Object(p.jsx)("div",{className:P.a.card,children:Object(p.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),u.forEach((function(e){e.roomname===a&&(b=!0)})),1==b?setTimeout((function(){return alert("Chat room already exist! Please enter different name.")}),100):(O.collection("chatrooms").add({roomname:a,roompassword:i}),setTimeout((function(){return alert("Chat room created successfully!")}),100)),c(""),l("")},children:[Object(p.jsx)("div",{className:P.a.heading,children:"Create Room"}),Object(p.jsx)("input",{type:"text",placeholder:"enter chat room name",onChange:function(e){c(e.target.value)},required:!0,value:a}),Object(p.jsx)("input",{type:"password",placeholder:"enter room password",onChange:function(e){l(e.target.value)},required:!0,value:i,className:P.a.password}),Object(p.jsx)(R.a,{className:P.a.btn,type:"submit",variant:"contained",color:"primary",children:"Create"})]})})})})},L=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(w.a,{basename:"/build",children:Object(p.jsxs)(v.c,{children:[Object(p.jsx)(v.a,{exact:!0,path:"/join-room",component:E}),Object(p.jsx)(v.a,{exact:!0,path:"/create-room",component:D}),Object(p.jsx)(v.a,{exact:!0,path:"/messenger/:roomName/:userName/:pickcolor",component:y}),Object(p.jsx)(v.a,{path:"/",component:C})]})})})};o.a.render(Object(p.jsx)(L,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.a9b9dda4.chunk.js.map