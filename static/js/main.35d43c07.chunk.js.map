{"version":3,"sources":["Messenger.module.css","Messages.module.css","Messages.jsx","Firebase.js","pristine-609.mp3","Messenger.jsx","App.js","index.js"],"names":["module","exports","Messages","props","className","Style","container","style","alignSelf","sender","wrapper","backgroundColor","borderTopLeftRadius","borderBottomRightRadius","textAlign","color","info","name","text","details","time","toLocaleDateString","toLocaleTimeString","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","Messenger","useSound","music","messageEndRef","useRef","useState","user","Setuser","myMessage","SetmyMessage","data","Setdata","useEffect","current","scrollIntoView","behavior","cleanUp","collection","orderBy","onSnapshot","snapshot","docs","map","doc","prompt","card","logo","icon","messages","item","message","username","timestamp","Date","seconds","ref","type","onSubmit","e","preventDefault","add","FieldValue","serverTimestamp","placeholder","onChange","event","target","value","required","submit","App","ReactDOM","render","document","getElementById"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,KAAO,wBAAwB,KAAO,wBAAwB,KAAO,wBAAwB,SAAW,4BAA4B,KAAO,wBAAwB,OAAS,4B,mBCAtQD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,KAAO,uBAAuB,QAAU,0BAA0B,KAAO,uBAAuB,QAAU,4B,mLCcrJC,EAXA,SAACC,GACZ,OACI,mCACA,sBAAKC,UAAWC,IAAMC,UAAWC,MAAO,CAACC,WAA0B,IAAfL,EAAMM,OAAe,WAAW,cAApF,UACI,sBAAKL,UAAWC,IAAMK,QAASH,MAAO,CAACC,WAA0B,IAAfL,EAAMM,OAAe,WAAW,aAAaE,iBAAgC,IAAfR,EAAMM,OAAe,OAAO,YAAYG,qBAAoC,IAAfT,EAAMM,OAAe,MAAM,IAAII,yBAAwC,IAAfV,EAAMM,OAAe,IAAI,OAA9P,UAAsQ,qBAAKF,MAAO,CAACO,WAA0B,IAAfX,EAAMM,OAAe,QAAQ,OAAOM,OAAsB,IAAfZ,EAAMM,OAAe,OAAO,OAAQL,UAAWC,IAAMW,KAAxH,SAA+Hb,EAAMc,OAAYd,EAAMe,QAC7Z,sBAAKd,UAAWC,IAAMc,QAASZ,MAAO,CAACC,WAA0B,IAAfL,EAAMM,OAAe,WAAW,cAAlF,UAAkGN,EAAMiB,KAAKC,qBAA7G,IAAoIlB,EAAMiB,KAAKE,8B,QCI5IC,EAXKC,IAASC,cAAc,CACvCC,OAAQ,0CACVC,WAAY,uCACZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,eACnBC,MAAO,8CAGcC,Y,QCXR,MAA0B,yCCgG1BC,EAtFG,WAChB,MAAeC,YAASC,GAClBC,GADN,oBACsBC,iBAAO,OAC7B,EAAwBC,mBAAS,WAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAkCF,mBAAS,IAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAAwBJ,mBAAS,IAAjC,mBAAOK,EAAP,KAAaC,EAAb,KAEAC,qBAAU,WAAO,IAAD,EACd,UAAAT,EAAcU,eAAd,SAAuBC,eAAe,CAAEC,SAAU,aACjD,CAACL,IAEJE,qBAAU,WACR,IAAMI,EAAU1B,EACb2B,WAAW,YACXC,QAAQ,YAAa,OACrBC,YAAW,SAACC,GACXT,EAAQS,EAASC,KAAKC,KAAI,SAACC,GAAD,OAASA,EAAIb,cAG3C,OAAO,kBAAMM,OACZ,IAEHJ,qBAAU,WACR,IAAM5B,EAAOwC,OAAO,cACpBjB,EAAQvB,KAEP,IAYH,OACE,mCACE,qBAAKb,UAAWC,IAAMC,UAAtB,SACE,sBAAKF,UAAWC,IAAMqD,KAAtB,UACE,qBAAKtD,UAAWC,IAAMsD,KAAtB,SACE,cAAC,IAAD,CAAWvD,UAAWC,IAAMuD,SAE9B,qBAAKxD,UAAWC,IAAMwD,SAAtB,SACGlB,EAAKY,KAAI,SAACO,GACT,OACE,qCACE,cAAC,EAAD,CACE5C,KAAM4C,EAAKC,QACXtD,OAAQqD,EAAKE,WAAazB,EAC1BtB,KAAM6C,EAAKE,WAAazB,EAAO,GAAKuB,EAAKE,SACzC5C,KACE0C,EAAKG,UACD,IAAIC,KAA8B,IAAzBJ,EAAKG,UAAUE,SACxB,IAAID,OAGZ,qBAAKE,IAAKhC,YAKlB,qBAAKhC,UAAWC,IAAMgE,KAAtB,SACE,uBAAMC,SArCA,SAACC,GACfA,EAAEC,iBACFjD,EAAG2B,WAAW,YAAYuB,IAAI,CAC5BV,QAAStB,EACTuB,SAAmB,OAATzB,GAAsB,KAAPA,EAAY,UAAYA,EACjD0B,UAAWzC,IAASQ,UAAU0C,WAAWC,oBAE3CjC,EAAa,KA8BL,UACE,uBACE2B,KAAK,OACLO,YAAY,uBACZC,SAAU,SAACC,GACTpC,EAAaoC,EAAMC,OAAOC,QAE5BC,UAAQ,EACRD,MAAOvC,IAET,wBAAQ4B,KAAK,SAASjE,UAAWC,IAAM6E,OAAvC,SACE,cAAC,IAAD,mBC3EDC,EARH,WACR,OACI,mCACI,cAAC,EAAD,OCAZC,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.35d43c07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Messenger_container__gA902\",\"card\":\"Messenger_card__3SCKJ\",\"move\":\"Messenger_move__2Bk8o\",\"logo\":\"Messenger_logo__1lqdr\",\"icon\":\"Messenger_icon__H5jjp\",\"messages\":\"Messenger_messages__1A6Tp\",\"type\":\"Messenger_type__1YdDg\",\"submit\":\"Messenger_submit__PgnE3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Messages_container__KReUA\",\"fade\":\"Messages_fade__5g-Gr\",\"wrapper\":\"Messages_wrapper__qlgLc\",\"info\":\"Messages_info__4NuBQ\",\"details\":\"Messages_details__1dItq\"};","\r\nimport React from 'react';\r\nimport Style from './Messages.module.css';\r\n\r\nconst Messages=(props)=>{\r\n    return(\r\n        <>\r\n        <div className={Style.container} style={{alignSelf:(props.sender===true)?'flex-end':'flex-start'}}>\r\n            <div className={Style.wrapper} style={{alignSelf:(props.sender===true)?'flex-end':'flex-start',backgroundColor:(props.sender===true)?'aqua':'lightgrey',borderTopLeftRadius:(props.sender===true)?'5px':'0',borderBottomRightRadius:(props.sender===true)?'0':'5px'}}><div style={{textAlign:(props.sender===true)?'right':'left',color:(props.sender===true)?'blue':'red'}} className={Style.info}>{props.name}</div>{props.text}</div>\r\n            <div className={Style.details} style={{alignSelf:(props.sender===true)?'flex-end':'flex-start'}}>{props.time.toLocaleDateString()} {props.time.toLocaleTimeString()}</div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Messages;","import firebase from 'firebase';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyA20No1Szz3Gu2aLWUjv-AwqLALwHCl12Y\",\r\n  authDomain: \"sandesh-chatting-app.firebaseapp.com\",\r\n  projectId: \"sandesh-chatting-app\",\r\n  storageBucket: \"sandesh-chatting-app.appspot.com\",\r\n  messagingSenderId: \"128133152544\",\r\n  appId: \"1:128133152544:web:01b451d3fdae452fc16145\"\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\n\r\nexport default db;","export default __webpack_public_path__ + \"static/media/pristine-609.9287f5ce.mp3\";","import React, { useEffect, useState, useRef } from \"react\";\r\nimport Style from \"./Messenger.module.css\";\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport Messages from \"./Messages\";\r\nimport db from \"./Firebase\";\r\nimport firebase from \"firebase\";\r\nimport useSound from 'use-sound';\r\nimport music from './pristine-609.mp3';\r\n\r\nconst Messenger = () => {\r\n  const [play] = useSound(music);\r\n  const messageEndRef = useRef(null);\r\n  const [user, Setuser] = useState(\"unknown\");\r\n  const [myMessage, SetmyMessage] = useState(\"\");\r\n  const [data, Setdata] = useState([]);\r\n\r\n  useEffect(() => {\r\n    messageEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    const cleanUp = db\r\n      .collection(\"messages\")\r\n      .orderBy(\"timestamp\", \"asc\")\r\n      .onSnapshot((snapshot) => {\r\n        Setdata(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n    // console.log(cleanUp);\r\n    return () => cleanUp();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const name = prompt(\"enter name\");\r\n    Setuser(name);\r\n    // console.log(data);\r\n  }, []);\r\n\r\n  const clicked = (e) => {\r\n    e.preventDefault();\r\n    db.collection(\"messages\").add({\r\n      message: myMessage,\r\n      username: user === null||user==='' ? \"unknown\" : user,\r\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    SetmyMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={Style.container}>\r\n        <div className={Style.card}>\r\n          <div className={Style.logo}>\r\n            <ForumIcon className={Style.icon} />\r\n          </div>\r\n          <div className={Style.messages}>\r\n            {data.map((item) => {\r\n              return (\r\n                <>\r\n                  <Messages\r\n                    text={item.message}\r\n                    sender={item.username === user ? true : false}\r\n                    name={item.username === user ? \"\" : item.username}\r\n                    time={\r\n                      item.timestamp\r\n                        ? new Date(item.timestamp.seconds * 1000)\r\n                        : new Date()\r\n                    }\r\n                  />\r\n                  <div ref={messageEndRef} />\r\n                </>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className={Style.type}>\r\n            <form onSubmit={clicked}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Type your message...\"\r\n                onChange={(event) => {\r\n                  SetmyMessage(event.target.value);\r\n                }}\r\n                required\r\n                value={myMessage}\r\n              ></input>\r\n              <button type=\"submit\" className={Style.submit}>\r\n                <SendIcon />\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Messenger;\r\n","import React from 'react';\r\nimport Messenger from './Messenger.jsx';\r\n\r\nconst App = () => {\r\n    return (\r\n        <>\r\n            <Messenger/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}